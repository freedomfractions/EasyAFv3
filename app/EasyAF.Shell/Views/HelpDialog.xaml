<Window x:Class="EasyAF.Shell.Views.HelpDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Help" Height="600" Width="900"
        WindowStartupLocation="CenterOwner"
        Background="{DynamicResource WindowBackgroundBrush}"
        ResizeMode="CanResize"
        WindowStyle="ToolWindow"
        ShowInTaskbar="False">
    <Grid Background="{DynamicResource PrimaryBackgroundBrush}">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="260"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Search -->
        <DockPanel Grid.Row="0" Margin="10">
            <TextBox Width="220" DockPanel.Dock="Left" 
                     Text="{Binding SearchQuery, UpdateSourceTrigger=PropertyChanged}" 
                     ToolTip="Search help..."/>
            <Button Content="Search" Width="80" Margin="10,0,0,0" 
                    Command="{Binding SearchCommand}"/>
        </DockPanel>

        <!-- TOC -->
        <ListBox Grid.Row="1" Grid.Column="0" Margin="10"
                 ItemsSource="{Binding Pages}"
                 SelectedItem="{Binding SelectedPage, Mode=TwoWay}"
                 DisplayMemberPath="Title"
                 Background="{DynamicResource ControlBackgroundBrush}"
                 BorderBrush="{DynamicResource ControlBorderBrush}"
                 BorderThickness="1"/>

        <!-- Content area (raw markdown for now) -->
        <ScrollViewer Grid.Row="1" Grid.Column="1" Margin="0,10,10,10" Background="{DynamicResource PrimaryBackgroundBrush}">
            <TextBlock Text="{Binding Content}" TextWrapping="Wrap"
                       Foreground="{DynamicResource TextPrimaryBrush}"
                       FontFamily="Consolas"/>
        </ScrollViewer>

        <!-- Footer -->
        <Border Grid.Row="2" Grid.ColumnSpan="2" Background="{DynamicResource SecondaryBackgroundBrush}"
                BorderBrush="{DynamicResource ControlBorderBrush}" BorderThickness="1,1,0,0" Padding="10">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <Button Content="Close" Width="80" Command="{Binding CloseCommand}"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>