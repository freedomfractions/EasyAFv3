<Window x:Class="EasyAF.Shell.Views.AboutDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="About EasyAF v3"
        Width="750"
        Height="450"
        WindowStartupLocation="CenterOwner"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="{DynamicResource PrimaryBackgroundBrush}"
        ShowInTaskbar="False"
        ResizeMode="NoResize">
    <!-- CROSS-MODULE EDIT: 2025-11-10 Task 10 (Polish) -->
    <!-- Modified for: Clean, themed About dialog with roomy layout and valid XAML -->
    <!-- Related modules: Shell (AboutDialog, AboutDialogViewModel), Theme resources -->
    <!-- Rollback instructions: Revert to previous version before cleanup -->
    <Border Background="{DynamicResource PrimaryBackgroundBrush}"
            BorderBrush="{DynamicResource ControlBorderBrush}"
            BorderThickness="1"
            CornerRadius="4"
            UseLayoutRounding="True">
        <Grid Margin="24">
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Main content -->
            <DockPanel Grid.Row="0" LastChildFill="True" Grid.IsSharedSizeScope="True">
                <!-- Large logo on the left -->
                <Image Source="pack://application:,,,/Assets/Logo.png"
                       Width="256"
                       Height="256"
                       Stretch="Uniform"
                       VerticalAlignment="Top"
                       Margin="0,0,24,0"
                       DockPanel.Dock="Left"/>

                <!-- Info on the right -->
                <StackPanel VerticalAlignment="Top">
                    <!-- Title and subtitle -->
                    <TextBlock Text="EasyAF v3"
                               FontSize="32"
                               FontWeight="SemiBold"
                               Foreground="{DynamicResource TextPrimaryBrush}"/>
                    <TextBlock Text="Arc Flash Study Toolkit"
                               FontSize="15"
                               Foreground="{DynamicResource TextSecondaryBrush}"
                               Margin="0,6,0,20"/>

                    <!-- Version information grid -->
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="130" SharedSizeGroup="L"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" Text="Version:" Margin="0,0,0,8" Foreground="{DynamicResource TextSecondaryBrush}"/>
                        <TextBlock Grid.Row="0" Grid.Column="1" Text="{Binding Version}" Margin="0,0,0,8" Foreground="{DynamicResource TextPrimaryBrush}"/>

                        <TextBlock Grid.Row="1" Grid.Column="0" Text="Build Date:" Margin="0,0,0,8" Foreground="{DynamicResource TextSecondaryBrush}"/>
                        <TextBlock Grid.Row="1" Grid.Column="1" Text="{Binding BuildDate}" Margin="0,0,0,8" Foreground="{DynamicResource TextPrimaryBrush}"/>

                        <TextBlock Grid.Row="2" Grid.Column="0" Text="Build Number:" Margin="0,0,0,8" Foreground="{DynamicResource TextSecondaryBrush}"/>
                        <TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding BuildNumber}" Margin="0,0,0,8" Foreground="{DynamicResource TextPrimaryBrush}"/>

                        <TextBlock Grid.Row="3" Grid.Column="0" Text=".NET Runtime:" Margin="0,0,0,8" Foreground="{DynamicResource TextSecondaryBrush}"/>
                        <TextBlock Grid.Row="3" Grid.Column="1" Text="{Binding DotNetVersion}" Margin="0,0,0,8" Foreground="{DynamicResource TextPrimaryBrush}"/>
                    </Grid>

                    <!-- Loaded modules section -->
                    <TextBlock Text="Loaded Modules:" FontSize="15" FontWeight="SemiBold" Foreground="{DynamicResource TextPrimaryBrush}" Margin="0,20,0,10"/>
                    <Border Background="{DynamicResource ControlBackgroundBrush}"
                            BorderBrush="{DynamicResource ControlBorderBrush}"
                            BorderThickness="1"
                            CornerRadius="2"
                            Padding="8">
                        <ScrollViewer MaxHeight="90"
                                      VerticalScrollBarVisibility="Auto"
                                      HorizontalScrollBarVisibility="Disabled"
                                      Background="Transparent">
                            <ItemsControl ItemsSource="{Binding LoadedModules}">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <TextBlock Margin="0,2,0,2" Foreground="{DynamicResource TextSecondaryBrush}">
                                            <Run Text="&#x2022;"/>
                                            <Run Text=" "/>
                                            <Run Text="{Binding ModuleName, Mode=OneWay}"/>
                                            <Run Text=" v"/>
                                            <Run Text="{Binding ModuleVersion, Mode=OneWay}"/>
                                        </TextBlock>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </ScrollViewer>
                    </Border>
                </StackPanel>
            </DockPanel>

            <!-- Footer with company logo and OK button -->
            <DockPanel Grid.Row="1" LastChildFill="False" Margin="0,20,0,0">
                <Button x:Name="OkButton"
                        Content="OK"
                        MinWidth="100"
                        Padding="24,12"
                        Command="{Binding CloseCommand}"
                        IsDefault="True"
                        DockPanel.Dock="Left"
                        Style="{StaticResource AccentButtonStyle}"/>

                <Image Source="pack://application:,,,/Assets/CompanyLogo.png"
                       Height="{Binding ActualHeight, ElementName=OkButton}"
                       Stretch="Uniform"
                       HorizontalAlignment="Right"
                       DockPanel.Dock="Right"/>
            </DockPanel>
        </Grid>
    </Border>
</Window>