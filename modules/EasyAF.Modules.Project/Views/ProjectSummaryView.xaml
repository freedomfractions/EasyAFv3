<UserControl x:Class="EasyAF.Modules.Project.Views.ProjectSummaryView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:conv="clr-namespace:EasyAF.Modules.Project.Converters"
             xmlns:local="clr-namespace:EasyAF.Modules.Project.ViewModels"
             HorizontalAlignment="Stretch"
             VerticalAlignment="Stretch">
    <UserControl.Resources>
        <!-- Force GroupBox content to stretch -->
        <Style TargetType="GroupBox" BasedOn="{StaticResource {x:Type GroupBox}}">
            <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
        </Style>
        
        <!-- Converters -->
        <conv:MultiplyConverter x:Key="MultiplyConverter"/>
        
        <!-- Boolean to Visibility Converters -->
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
        
        <!-- Inverse Boolean to Visibility Converter -->
        <conv:InverseBooleanToVisibilityConverter x:Key="InverseBooleanToVisibilityConverter"/>
        
        <!-- Boolean to FontWeight Converter -->
        <conv:BooleanToFontWeightConverter x:Key="BooleanToFontWeightConverter"/>
        
        <!-- Right-aligned TextBlock Style -->
        <Style x:Key="RightAlignedTextBlockStyle" TargetType="TextBlock">
            <Setter Property="HorizontalAlignment" Value="Right"/>
            <Setter Property="TextAlignment" Value="Right"/>
            <Setter Property="Margin" Value="0,0,10,0"/>
        </Style>
        
        <!-- Expander Toggle Button Style -->
        <Style x:Key="ExpanderToggleButtonStyle" TargetType="ToggleButton">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ToggleButton">
                        <Border Background="Transparent">
                            <TextBlock x:Name="ExpanderIcon" 
                                       Text="?" 
                                       FontSize="10"
                                       Foreground="{DynamicResource TextPrimaryBrush}"
                                       HorizontalAlignment="Center"
                                       VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="ExpanderIcon" Property="Text" Value="?"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </UserControl.Resources>
    
    <ScrollViewer VerticalScrollBarVisibility="Auto"
                  HorizontalScrollBarVisibility="Disabled"
                  Background="{DynamicResource PrimaryBackgroundBrush}"
                  HorizontalAlignment="Stretch"
                  VerticalAlignment="Stretch"
                  Padding="0,0,0,0">
        <!-- Bind inner Grid width to viewport so ScrollViewer's infinite measure doesn't collapse stretch -->
        <!-- Constrain to reasonable max width for readability -->
        <Grid Margin="20,20,0,20"
              Width="{Binding ViewportWidth, RelativeSource={RelativeSource AncestorType=ScrollViewer}}"
              MaxWidth="1200"
              x:Name="MainProjectGrid">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            
            <!-- Project GroupBox -->
            <GroupBox Grid.Row="0"
                      Header="Project" 
                      Margin="0,0,22,16"
                      HorizontalAlignment="Stretch"
                      BorderBrush="{DynamicResource ControlBorderBrush}"
                      Foreground="{DynamicResource TextPrimaryBrush}">
                <Grid x:Name="ProjectFieldsGrid" Margin="8" Grid.IsSharedSizeScope="True">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" SharedSizeGroup="Label1"/>    <!-- Label 1 - auto-size to content -->
                        <ColumnDefinition Width="1.5*"/>    <!-- Values column 1 (proportional) -->
                        <ColumnDefinition Width="Auto" SharedSizeGroup="Label2"/>    <!-- Label 2 - auto-size to content -->
                        <ColumnDefinition Width="2*"/>      <!-- Values column 2 (more space) -->
                        <ColumnDefinition Width="Auto"/>    <!-- State label - auto-size -->
                        <ColumnDefinition Width="0.5*"/>    <!-- State field - minimal stretch -->
                        <ColumnDefinition Width="Auto"/>    <!-- Zip label - auto-size -->
                        <ColumnDefinition Width="0.5*"/>    <!-- Zip field - minimal stretch -->
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="32"/>
                        <RowDefinition Height="32"/>
                        <RowDefinition Height="32"/>
                        <RowDefinition Height="32"/>
                        <RowDefinition Height="32"/>
                        <RowDefinition Height="32"/>
                        <RowDefinition Height="32"/>
                        <RowDefinition Height="8"/>   <!-- Spacer row before Comments (reduced from 16) -->
                        <RowDefinition Height="80"/>  <!-- Comments row -->
                        <RowDefinition Height="8"/>   <!-- Spacer row before Project Type (reduced from 16) -->
                        <RowDefinition Height="32"/>  <!-- Project Type row -->
                    </Grid.RowDefinitions>
                    
                    <!-- Row 0: LB Project Number | Site Name -->
                    <TextBlock Grid.Row="0" Grid.Column="0" Text="LB Project Number:" VerticalAlignment="Center" Margin="0,0,8,0" Foreground="{DynamicResource TextPrimaryBrush}"/>
                    <TextBox Grid.Row="0" Grid.Column="1" Text="{Binding LBProjectNumber, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" Margin="0,0,20,0" HorizontalAlignment="Stretch"/>
                    
                    <TextBlock Grid.Row="0" Grid.Column="2" Text="Site Name:" VerticalAlignment="Center" Margin="0,0,8,0" Foreground="{DynamicResource TextPrimaryBrush}"/>
                    <TextBox Grid.Row="0" Grid.Column="3" Grid.ColumnSpan="5" Text="{Binding SiteName, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" HorizontalAlignment="Stretch"/>
                    
                    <!-- Row 1: Client | Study Engineer -->
                    <TextBlock Grid.Row="1" Grid.Column="0" Text="Client:" VerticalAlignment="Center" Margin="0,0,8,0" Foreground="{DynamicResource TextPrimaryBrush}"/>
                    <TextBox Grid.Row="1" Grid.Column="1" Text="{Binding Client, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" Margin="0,0,20,0" HorizontalAlignment="Stretch"/>
                    
                    <TextBlock Grid.Row="1" Grid.Column="2" Text="Study Engineer:" VerticalAlignment="Center" Margin="0,0,8,0" Foreground="{DynamicResource TextPrimaryBrush}"/>
                    <TextBox Grid.Row="1" Grid.Column="3" Grid.ColumnSpan="5" Text="{Binding StudyEngineer, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" HorizontalAlignment="Stretch"/>
                    
                    <!-- Row 2: Address Line 1 -->
                    <TextBlock Grid.Row="2" Grid.Column="0" Text="Address Line 1:" VerticalAlignment="Center" Margin="0,0,8,0" Foreground="{DynamicResource TextPrimaryBrush}"/>
                    <TextBox Grid.Row="2" Grid.Column="1" Grid.ColumnSpan="7" Text="{Binding AddressLine1, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" HorizontalAlignment="Stretch"/>
                    
                    <!-- Row 3: Address Line 2 -->
                    <TextBlock Grid.Row="3" Grid.Column="0" Text="Address Line 2:" VerticalAlignment="Center" Margin="0,0,8,0" Foreground="{DynamicResource TextPrimaryBrush}"/>
                    <TextBox Grid.Row="3" Grid.Column="1" Grid.ColumnSpan="7" Text="{Binding AddressLine2, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" HorizontalAlignment="Stretch"/>
                    
                    <!-- Row 4: Address Line 3 -->
                    <TextBlock Grid.Row="4" Grid.Column="0" Text="Address Line 3:" VerticalAlignment="Center" Margin="0,0,8,0" Foreground="{DynamicResource TextPrimaryBrush}"/>
                    <TextBox Grid.Row="4" Grid.Column="1" Grid.ColumnSpan="7" Text="{Binding AddressLine3, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" HorizontalAlignment="Stretch"/>
                    
                    <!-- Row 5: City | State | Zip - Nested grid with 90% growth rate -->
                    <Grid Grid.Row="5" Grid.Column="0" Grid.ColumnSpan="8" HorizontalAlignment="Left"
                          Width="{Binding ActualWidth, ElementName=ProjectFieldsGrid, Converter={StaticResource MultiplyConverter}, ConverterParameter=0.9}"
                          MaxWidth="1080">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="Label1"/>    <!-- Label: City - matches main grid -->
                            <ColumnDefinition Width="1.5*"/>    <!-- Field: City -->
                            <ColumnDefinition Width="Auto"/>    <!-- Label: State -->
                            <ColumnDefinition Width="0.5*"/>    <!-- Field: State -->
                            <ColumnDefinition Width="Auto"/>    <!-- Label: Zip -->
                            <ColumnDefinition Width="0.5*"/>    <!-- Field: Zip -->
                        </Grid.ColumnDefinitions>
                        
                        <TextBlock Grid.Column="0" Text="City:" VerticalAlignment="Center" Margin="0,0,8,0" Foreground="{DynamicResource TextPrimaryBrush}"/>
                        <TextBox Grid.Column="1" Text="{Binding City, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" Margin="0,0,20,0" HorizontalAlignment="Stretch"/>
                        
                        <TextBlock Grid.Column="2" Text="State:" VerticalAlignment="Center" Margin="0,0,8,0" Foreground="{DynamicResource TextPrimaryBrush}"/>
                        <ComboBox Grid.Column="3" SelectedItem="{Binding State, UpdateSourceTrigger=PropertyChanged}" 
                                  VerticalAlignment="Center" Margin="0,0,20,0" HorizontalAlignment="Stretch" IsEditable="True">
                            <ComboBox.Items>
                                <ComboBoxItem Content="AL"/>
                                <ComboBoxItem Content="AK"/>
                                <ComboBoxItem Content="AZ"/>
                                <ComboBoxItem Content="AR"/>
                                <ComboBoxItem Content="CA"/>
                                <ComboBoxItem Content="CO"/>
                                <ComboBoxItem Content="CT"/>
                                <ComboBoxItem Content="DE"/>
                                <ComboBoxItem Content="FL"/>
                                <ComboBoxItem Content="GA"/>
                                <ComboBoxItem Content="HI"/>
                                <ComboBoxItem Content="ID"/>
                                <ComboBoxItem Content="IL"/>
                                <ComboBoxItem Content="IN"/>
                                <ComboBoxItem Content="IA"/>
                                <ComboBoxItem Content="KS"/>
                                <ComboBoxItem Content="KY"/>
                                <ComboBoxItem Content="LA"/>
                                <ComboBoxItem Content="ME"/>
                                <ComboBoxItem Content="MD"/>
                                <ComboBoxItem Content="MA"/>
                                <ComboBoxItem Content="MI"/>
                                <ComboBoxItem Content="MN"/>
                                <ComboBoxItem Content="MS"/>
                                <ComboBoxItem Content="MO"/>
                                <ComboBoxItem Content="MT"/>
                                <ComboBoxItem Content="NE"/>
                                <ComboBoxItem Content="NV"/>
                                <ComboBoxItem Content="NH"/>
                                <ComboBoxItem Content="NJ"/>
                                <ComboBoxItem Content="NM"/>
                                <ComboBoxItem Content="NY"/>
                                <ComboBoxItem Content="NC"/>
                                <ComboBoxItem Content="ND"/>
                                <ComboBoxItem Content="OH"/>
                                <ComboBoxItem Content="OK"/>
                                <ComboBoxItem Content="OR"/>
                                <ComboBoxItem Content="PA"/>
                                <ComboBoxItem Content="RI"/>
                                <ComboBoxItem Content="SC"/>
                                <ComboBoxItem Content="SD"/>
                                <ComboBoxItem Content="TN"/>
                                <ComboBoxItem Content="TX"/>
                                <ComboBoxItem Content="UT"/>
                                <ComboBoxItem Content="VT"/>
                                <ComboBoxItem Content="VA"/>
                                <ComboBoxItem Content="WA"/>
                                <ComboBoxItem Content="WV"/>
                                <ComboBoxItem Content="WI"/>
                                <ComboBoxItem Content="WY"/>
                            </ComboBox.Items>
                        </ComboBox>
                        
                        <TextBlock Grid.Column="4" Text="Zip:" VerticalAlignment="Center" Margin="0,0,8,0" Foreground="{DynamicResource TextPrimaryBrush}"/>
                        <TextBox Grid.Column="5" Text="{Binding Zip, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" MaxLength="5" HorizontalAlignment="Stretch"/>
                    </Grid>
                    
                    <!-- Row 6: Study Date | Revision Month - Nested grid with 90% growth rate -->
                    <Grid Grid.Row="6" Grid.Column="0" Grid.ColumnSpan="8" HorizontalAlignment="Left"
                          Width="{Binding ActualWidth, ElementName=ProjectFieldsGrid, Converter={StaticResource MultiplyConverter}, ConverterParameter=0.9}"
                          MaxWidth="1080">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="Label1"/>    <!-- Label: Study Date - matches main grid -->
                            <ColumnDefinition Width="1*"/>      <!-- Field: Study Date -->
                            <ColumnDefinition Width="Auto"/>    <!-- Label: Revision -->
                            <ColumnDefinition Width="1.5*"/>    <!-- Field: Revision -->
                        </Grid.ColumnDefinitions>
                        
                        <TextBlock Grid.Column="0" Text="Study Date:" VerticalAlignment="Center" Margin="0,0,8,0" Foreground="{DynamicResource TextPrimaryBrush}"/>
                        <DatePicker Grid.Column="1" SelectedDate="{Binding StudyDateValue, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" Margin="0,0,20,0" HorizontalAlignment="Stretch"/>
                        
                        <TextBlock Grid.Column="2" Text="Revision Month:" VerticalAlignment="Center" Margin="0,0,8,0" Foreground="{DynamicResource TextPrimaryBrush}"/>
                        <TextBox Grid.Column="3" Text="{Binding Revision, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" HorizontalAlignment="Stretch"/>
                    </Grid>
                    
                    <!-- Row 7: Spacer (empty) -->
                    
                    <!-- Row 8: Comments -->
                    <TextBlock Grid.Row="8" Grid.Column="0" Text="Comments:" VerticalAlignment="Top" Margin="0,4,8,0" Foreground="{DynamicResource TextPrimaryBrush}"/>
                    <TextBox Grid.Row="8" Grid.Column="1" Grid.ColumnSpan="7" 
                             Text="{Binding Comments, UpdateSourceTrigger=PropertyChanged}" 
                             TextWrapping="Wrap" 
                             AcceptsReturn="True" 
                             VerticalScrollBarVisibility="Auto"
                             HorizontalAlignment="Stretch"
                             VerticalAlignment="Stretch"/>
                    
                    <!-- Row 9: Spacer (empty) -->
                    
                    <!-- Row 10: Project Type -->
                    <TextBlock Grid.Row="10" Grid.Column="0" Text="Project Type:" VerticalAlignment="Center" Margin="0,0,8,0" Foreground="{DynamicResource TextPrimaryBrush}"/>
                    <StackPanel Grid.Row="10" Grid.Column="1" Grid.ColumnSpan="7" Orientation="Horizontal">
                        <RadioButton Content="Standard EasyPower Model" 
                                     IsChecked="{Binding IsStandardProjectType}" 
                                     GroupName="ProjectType" 
                                     Margin="0,0,20,0"
                                     VerticalAlignment="Center"/>
                        <RadioButton Content="Composite Model" 
                                     IsChecked="{Binding IsCompositeProjectType}" 
                                     GroupName="ProjectType"
                                     VerticalAlignment="Center"/>
                    </StackPanel>
                </Grid>
            </GroupBox>
            
            <!-- Project Summary GroupBox -->
            <GroupBox Grid.Row="1"
                      Header="Project Summary" 
                      Margin="0,0,22,16"
                      HorizontalAlignment="Stretch"
                      BorderBrush="{DynamicResource ControlBorderBrush}"
                      Foreground="{DynamicResource TextPrimaryBrush}">
                <Grid Margin="8">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    
                    <!-- Import Buttons Row -->
                    <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,10">
                        <Button Content="Import New Data..."
                                Command="{Binding ImportNewDataCommand}"
                                Style="{StaticResource BaseButtonStyle}"
                                Padding="12,6"
                                Margin="0,0,10,0"/>
                        <Button Content="Import Old Data..."
                                Command="{Binding ImportOldDataCommand}"
                                Style="{StaticResource BaseButtonStyle}"
                                Padding="12,6"/>
                    </StackPanel>
                    
                    <!-- Data Statistics Table -->
                    <DataGrid Grid.Row="2"
                              ItemsSource="{Binding VisibleStatisticsRows}"
                              AutoGenerateColumns="False"
                              IsReadOnly="True"
                              HeadersVisibility="Column"
                              GridLinesVisibility="Horizontal"
                              BorderThickness="1"
                              BorderBrush="{DynamicResource ControlBorderBrush}"
                              Background="Transparent"
                              RowBackground="Transparent"
                              AlternatingRowBackground="{DynamicResource PrimaryBackgroundBrush}"
                              CanUserAddRows="False"
                              CanUserDeleteRows="False"
                              CanUserReorderColumns="False"
                              CanUserResizeRows="False"
                              SelectionMode="Single"
                              SelectionUnit="FullRow">
                        
                        <DataGrid.Columns>
                            <!-- Data Type Column with Expander -->
                            <DataGridTemplateColumn Header="Data Type" Width="2*">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <StackPanel Orientation="Horizontal">
                                            <!-- Indentation for child rows -->
                                            <Border Width="{Binding IndentLevel, Converter={StaticResource MultiplyConverter}, ConverterParameter=20}"/>
                                            
                                            <!-- Expander button (visible only for parent rows with children) -->
                                            <ToggleButton IsChecked="{Binding IsExpanded, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                          Visibility="{Binding ShowExpander, Converter={StaticResource BooleanToVisibilityConverter}}"
                                                          Width="16"
                                                          Height="16"
                                                          Margin="0,0,4,0"
                                                          VerticalAlignment="Center"
                                                          Style="{StaticResource ExpanderToggleButtonStyle}"/>
                                            
                                            <!-- Spacer for non-expandable rows -->
                                            <Border Width="20" 
                                                    Visibility="{Binding ShowExpander, Converter={StaticResource InverseBooleanToVisibilityConverter}}"/>
                                            
                                            <!-- Display Name -->
                                            <TextBlock Text="{Binding DisplayName}" 
                                                       FontWeight="{Binding IsRootRow, Converter={StaticResource BooleanToFontWeightConverter}}"
                                                       Foreground="{DynamicResource TextPrimaryBrush}"
                                                       VerticalAlignment="Center"/>
                                            
                                            <!-- Warning Indicator -->
                                            <TextBlock Text="{Binding WarningIndicator}" 
                                                       Margin="6,0,0,0"
                                                       FontSize="12"
                                                       VerticalAlignment="Center"
                                                       ToolTip="Scenario counts are inconsistent"/>
                                        </StackPanel>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                            
                            <!-- New Data Column -->
                            <DataGridTextColumn Header="New Data" 
                                                Binding="{Binding NewCountDisplay}" 
                                                Width="*"
                                                ElementStyle="{StaticResource RightAlignedTextBlockStyle}"/>
                            
                            <!-- Old Data Column -->
                            <DataGridTextColumn Header="Old Data" 
                                                Binding="{Binding OldCountDisplay}" 
                                                Width="*"
                                                ElementStyle="{StaticResource RightAlignedTextBlockStyle}"/>
                            
                            <!-- Delta Column -->
                            <DataGridTextColumn Header="? Change" 
                                                Binding="{Binding DeltaDisplay}" 
                                                Width="*"
                                                ElementStyle="{StaticResource RightAlignedTextBlockStyle}"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </GroupBox>
            
            <!-- Report GroupBox -->
            <GroupBox Grid.Row="2"
                      Header="Report"
                      Margin="0,0,22,0"
                      HorizontalAlignment="Stretch"
                      BorderBrush="{DynamicResource ControlBorderBrush}"
                      Foreground="{DynamicResource TextPrimaryBrush}">
                <Grid Margin="8">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="140"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="32"/>
                        <RowDefinition Height="32"/>
                        <RowDefinition Height="32"/>
                        <RowDefinition Height="32"/>
                    </Grid.RowDefinitions>
                    
                    <!-- Map Path -->
                    <TextBlock Grid.Row="0" Grid.Column="0" Text="Map:" VerticalAlignment="Center" Foreground="{DynamicResource TextPrimaryBrush}"/>
                    <TextBox Grid.Row="0" Grid.Column="1" Text="{Binding MapPath, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" Margin="0,0,8,0" HorizontalAlignment="Stretch"/>
                    <Button Grid.Row="0" Grid.Column="2" Content="Browse..." Command="{Binding BrowseMapCommand}" Padding="8,4" Style="{StaticResource BaseButtonStyle}"/>
                    
                    <!-- Spec Path -->
                    <TextBlock Grid.Row="1" Grid.Column="0" Text="Spec:" VerticalAlignment="Center" Foreground="{DynamicResource TextPrimaryBrush}"/>
                    <TextBox Grid.Row="1" Grid.Column="1" Text="{Binding SpecPath, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" Margin="0,0,8,0" HorizontalAlignment="Stretch"/>
                    <Button Grid.Row="1" Grid.Column="2" Content="Browse..." Command="{Binding BrowseSpecCommand}" Padding="8,4" Style="{StaticResource BaseButtonStyle}"/>
                    
                    <!-- Template Path -->
                    <TextBlock Grid.Row="2" Grid.Column="0" Text="Template:" VerticalAlignment="Center" Foreground="{DynamicResource TextPrimaryBrush}"/>
                    <TextBox Grid.Row="2" Grid.Column="1" Text="{Binding TemplatePath, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" Margin="0,0,8,0" HorizontalAlignment="Stretch"/>
                    <Button Grid.Row="2" Grid.Column="2" Content="Browse..." Command="{Binding BrowseTemplateCommand}" Padding="8,4" Style="{StaticResource BaseButtonStyle}"/>
                    
                    <!-- Output Folder -->
                    <TextBlock Grid.Row="3" Grid.Column="0" Text="Output Folder:" VerticalAlignment="Center" Foreground="{DynamicResource TextPrimaryBrush}"/>
                    <TextBox Grid.Row="3" Grid.Column="1" Text="{Binding OutputPath, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" Margin="0,0,8,0" HorizontalAlignment="Stretch"/>
                    <Button Grid.Row="3" Grid.Column="2" Content="Browse..." Command="{Binding BrowseOutputCommand}" Padding="8,4" Style="{StaticResource BaseButtonStyle}"/>
                </Grid>
            </GroupBox>
            
        </Grid>
    </ScrollViewer>
</UserControl>
