<UserControl x:Class="EasyAF.Modules.Project.Views.ProjectSummaryView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    
    <ScrollViewer VerticalScrollBarVisibility="Auto"
                  Background="{DynamicResource PrimaryBackgroundBrush}">
        <Grid Margin="20">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>      <!-- Left column: Metadata + Report -->
                <ColumnDefinition Width="320"/>    <!-- Right column: Statistics -->
            </Grid.ColumnDefinitions>

            <!-- LEFT COLUMN: Project Metadata + Report Inputs -->
            <StackPanel Grid.Column="0" Margin="0,0,8,0">
                
                <!-- Project Metadata GroupBox -->
                <GroupBox Header="Project" Margin="0,0,0,8"
                          BorderBrush="{DynamicResource ControlBorderBrush}">
                    <Grid Margin="8">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>   <!-- Label 1 -->
                            <ColumnDefinition Width="Auto"/>   <!-- Value 1 -->
                            <ColumnDefinition Width="Auto"/>   <!-- Label 2 -->
                            <ColumnDefinition Width="*"/>      <!-- Value 2 -->
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>  <!-- Row 0: LB Project # | Site Name -->
                            <RowDefinition Height="Auto"/>  <!-- Row 1: Client | Study Engineer -->
                            <RowDefinition Height="Auto"/>  <!-- Row 2: Address Line 1 -->
                            <RowDefinition Height="Auto"/>  <!-- Row 3: Address Line 2 -->
                            <RowDefinition Height="Auto"/>  <!-- Row 4: Address Line 3 -->
                            <RowDefinition Height="Auto"/>  <!-- Row 5: City | State | Zip -->
                            <RowDefinition Height="Auto"/>  <!-- Row 6: Study Date | Revision -->
                            <RowDefinition Height="Auto"/>  <!-- Row 7: Comments -->
                        </Grid.RowDefinitions>

                        <!-- Row 0: LB Project Number | Site Name -->
                        <TextBlock Grid.Row="0" Grid.Column="0" 
                                   Text="L&amp;B Project Number:" 
                                   VerticalAlignment="Center" Margin="0,0,8,0"
                                   Foreground="{DynamicResource TextPrimaryBrush}"/>
                        <TextBox Grid.Row="0" Grid.Column="1" 
                                 Width="140" MaxLength="10"
                                 Text="{Binding LBProjectNumber, UpdateSourceTrigger=PropertyChanged}"/>
                        <TextBlock Grid.Row="0" Grid.Column="2" 
                                   Text="Site Name:" 
                                   VerticalAlignment="Center" Margin="16,0,8,0"
                                   Foreground="{DynamicResource TextPrimaryBrush}"/>
                        <TextBox Grid.Row="0" Grid.Column="3" 
                                 Text="{Binding SiteName, UpdateSourceTrigger=PropertyChanged}"/>

                        <!-- Row 1: Client | Study Engineer -->
                        <TextBlock Grid.Row="1" Grid.Column="0" 
                                   Text="Client:" 
                                   VerticalAlignment="Center" Margin="0,6,8,0"
                                   Foreground="{DynamicResource TextPrimaryBrush}"/>
                        <TextBox Grid.Row="1" Grid.Column="1" 
                                 Margin="0,6,0,0"
                                 Text="{Binding Client, UpdateSourceTrigger=PropertyChanged}"/>
                        <TextBlock Grid.Row="1" Grid.Column="2" 
                                   Text="Study Engineer:" 
                                   VerticalAlignment="Center" Margin="16,6,8,0"
                                   Foreground="{DynamicResource TextPrimaryBrush}"/>
                        <TextBox Grid.Row="1" Grid.Column="3" 
                                 Margin="0,6,0,0"
                                 Text="{Binding StudyEngineer, UpdateSourceTrigger=PropertyChanged}"/>

                        <!-- Row 2: Address Line 1 (spans 3 columns) -->
                        <TextBlock Grid.Row="2" Grid.Column="0" 
                                   Text="Address Line 1:" 
                                   VerticalAlignment="Center" Margin="0,6,8,0"
                                   Foreground="{DynamicResource TextPrimaryBrush}"/>
                        <TextBox Grid.Row="2" Grid.Column="1" Grid.ColumnSpan="3" 
                                 Margin="0,6,0,0"
                                 Text="{Binding AddressLine1, UpdateSourceTrigger=PropertyChanged}"/>

                        <!-- Row 3: Address Line 2 -->
                        <TextBlock Grid.Row="3" Grid.Column="0" 
                                   Text="Address Line 2:" 
                                   VerticalAlignment="Center" Margin="0,6,8,0"
                                   Foreground="{DynamicResource TextPrimaryBrush}"/>
                        <TextBox Grid.Row="3" Grid.Column="1" Grid.ColumnSpan="3" 
                                 Margin="0,6,0,0"
                                 Text="{Binding AddressLine2, UpdateSourceTrigger=PropertyChanged}"/>

                        <!-- Row 4: Address Line 3 -->
                        <TextBlock Grid.Row="4" Grid.Column="0" 
                                   Text="Address Line 3:" 
                                   VerticalAlignment="Center" Margin="0,6,8,0"
                                   Foreground="{DynamicResource TextPrimaryBrush}"/>
                        <TextBox Grid.Row="4" Grid.Column="1" Grid.ColumnSpan="3" 
                                 Margin="0,6,0,0"
                                 Text="{Binding AddressLine3, UpdateSourceTrigger=PropertyChanged}"/>

                        <!-- Row 5: City | State | Zip -->
                        <TextBlock Grid.Row="5" Grid.Column="0" 
                                   Text="City:" 
                                   VerticalAlignment="Center" Margin="0,6,8,0"
                                   Foreground="{DynamicResource TextPrimaryBrush}"/>
                        <TextBox Grid.Row="5" Grid.Column="1" 
                                 Margin="0,6,0,0"
                                 Text="{Binding City, UpdateSourceTrigger=PropertyChanged}"/>
                        <TextBlock Grid.Row="5" Grid.Column="2" 
                                   Text="State:" 
                                   VerticalAlignment="Center" Margin="16,6,8,0"
                                   Foreground="{DynamicResource TextPrimaryBrush}"/>
                        <StackPanel Grid.Row="5" Grid.Column="3" 
                                    Orientation="Horizontal" Margin="0,6,0,0">
                            <TextBox Width="40" MaxLength="2" CharacterCasing="Upper"
                                     Text="{Binding State, UpdateSourceTrigger=PropertyChanged}"/>
                            <TextBlock Text="Zip:" VerticalAlignment="Center" Margin="12,0,8,0"
                                       Foreground="{DynamicResource TextPrimaryBrush}"/>
                            <TextBox Width="80" MaxLength="5"
                                     Text="{Binding Zip, UpdateSourceTrigger=PropertyChanged}"/>
                        </StackPanel>

                        <!-- Row 6: Study Date | Revision Month -->
                        <TextBlock Grid.Row="6" Grid.Column="0" 
                                   Text="Study Date:" 
                                   VerticalAlignment="Center" Margin="0,6,8,0"
                                   Foreground="{DynamicResource TextPrimaryBrush}"/>
                        <TextBox Grid.Row="6" Grid.Column="1" 
                                 Margin="0,6,0,0"
                                 Text="{Binding StudyDate, UpdateSourceTrigger=PropertyChanged}"/>
                        <TextBlock Grid.Row="6" Grid.Column="2" 
                                   Text="Revision Month:" 
                                   VerticalAlignment="Center" Margin="16,6,8,0"
                                   Foreground="{DynamicResource TextPrimaryBrush}"/>
                        <TextBox Grid.Row="6" Grid.Column="3" 
                                 Margin="0,6,0,0"
                                 Text="{Binding Revision, UpdateSourceTrigger=PropertyChanged}"/>

                        <!-- Row 7: Comments (multiline) -->
                        <TextBlock Grid.Row="7" Grid.Column="0" 
                                   Text="Comments:" 
                                   VerticalAlignment="Top" Margin="0,6,8,0"
                                   Foreground="{DynamicResource TextPrimaryBrush}"/>
                        <TextBox Grid.Row="7" Grid.Column="1" Grid.ColumnSpan="3" 
                                 Margin="0,6,0,0" AcceptsReturn="True" TextWrapping="Wrap" 
                                 Height="80" VerticalScrollBarVisibility="Auto"
                                 Text="{Binding Comments, UpdateSourceTrigger=PropertyChanged}"/>
                    </Grid>
                </GroupBox>

                <!-- Report GroupBox -->
                <GroupBox Header="Report" 
                          BorderBrush="{DynamicResource ControlBorderBrush}">
                    <Grid Margin="8">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- Map -->
                        <TextBlock Grid.Row="0" Text="Map:" 
                                   VerticalAlignment="Center" Margin="0,0,8,0"
                                   Foreground="{DynamicResource TextPrimaryBrush}"/>
                        <TextBox Grid.Row="0" Grid.Column="1" 
                                 Margin="0,0,8,0"
                                 Text="{Binding MapPath, UpdateSourceTrigger=PropertyChanged}"/>
                        <Button Grid.Row="0" Grid.Column="2" 
                                Content="Browse" 
                                Command="{Binding BrowseMapCommand}"/>

                        <!-- Spec -->
                        <TextBlock Grid.Row="1" Text="Spec:" 
                                   VerticalAlignment="Center" Margin="0,8,8,0"
                                   Foreground="{DynamicResource TextPrimaryBrush}"/>
                        <TextBox Grid.Row="1" Grid.Column="1" 
                                 Margin="0,8,8,0"
                                 Text="{Binding SpecPath, UpdateSourceTrigger=PropertyChanged}"/>
                        <Button Grid.Row="1" Grid.Column="2" 
                                Content="Browse" Margin="0,8,0,0"
                                Command="{Binding BrowseSpecCommand}"/>

                        <!-- Template -->
                        <TextBlock Grid.Row="2" Text="Template:" 
                                   VerticalAlignment="Center" Margin="0,8,8,0"
                                   Foreground="{DynamicResource TextPrimaryBrush}"/>
                        <TextBox Grid.Row="2" Grid.Column="1" 
                                 Margin="0,8,8,0"
                                 Text="{Binding TemplatePath, UpdateSourceTrigger=PropertyChanged}"/>
                        <Button Grid.Row="2" Grid.Column="2" 
                                Content="Browse" Margin="0,8,0,0"
                                Command="{Binding BrowseTemplateCommand}"/>

                        <!-- Output Folder -->
                        <TextBlock Grid.Row="3" Text="Output Folder:" 
                                   VerticalAlignment="Center" Margin="0,8,8,0"
                                   Foreground="{DynamicResource TextPrimaryBrush}"/>
                        <TextBox Grid.Row="3" Grid.Column="1" 
                                 Margin="0,8,8,0"
                                 Text="{Binding OutputPath, UpdateSourceTrigger=PropertyChanged}"/>
                        <Button Grid.Row="3" Grid.Column="2" 
                                Content="Browse" Margin="0,8,0,0"
                                Command="{Binding BrowseOutputCommand}"/>
                    </Grid>
                </GroupBox>
                
            </StackPanel>

            <!-- RIGHT COLUMN: Project Summary (Statistics) -->
            <GroupBox Grid.Column="1" Header="Project Summary" 
                      BorderBrush="{DynamicResource ControlBorderBrush}">
                <StackPanel Margin="8">
                    
                    <!-- New Data GroupBox -->
                    <GroupBox Header="New Data" Margin="0,0,0,8"
                              BorderBrush="{DynamicResource ControlBorderBrush}">
                        <Grid Margin="8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Buses"
                                       Foreground="{DynamicResource TextPrimaryBrush}"/>
                            <TextBlock Grid.Row="0" Grid.Column="1" 
                                       Text="{Binding NewBusCount}"
                                       Foreground="{DynamicResource TextSecondaryBrush}"/>
                            
                            <TextBlock Grid.Row="1" Grid.Column="0" Text="Breakers"
                                       Foreground="{DynamicResource TextPrimaryBrush}"/>
                            <TextBlock Grid.Row="1" Grid.Column="1" 
                                       Text="{Binding NewBreakerCount}"
                                       Foreground="{DynamicResource TextSecondaryBrush}"/>
                            
                            <TextBlock Grid.Row="2" Grid.Column="0" Text="Fuses"
                                       Foreground="{DynamicResource TextPrimaryBrush}"/>
                            <TextBlock Grid.Row="2" Grid.Column="1" 
                                       Text="{Binding NewFuseCount}"
                                       Foreground="{DynamicResource TextSecondaryBrush}"/>
                            
                            <TextBlock Grid.Row="3" Grid.Column="0" Text="Short Circuit"
                                       Foreground="{DynamicResource TextPrimaryBrush}"/>
                            <TextBlock Grid.Row="3" Grid.Column="1" 
                                       Text="{Binding NewShortCircuitCount}"
                                       Foreground="{DynamicResource TextSecondaryBrush}"/>
                            
                            <TextBlock Grid.Row="4" Grid.Column="0" Text="Arc Flash"
                                       Foreground="{DynamicResource TextPrimaryBrush}"/>
                            <TextBlock Grid.Row="4" Grid.Column="1" 
                                       Text="{Binding NewArcFlashCount}"
                                       Foreground="{DynamicResource TextSecondaryBrush}"/>
                        </Grid>
                    </GroupBox>

                    <!-- Old Data GroupBox -->
                    <GroupBox Header="Old Data"
                              BorderBrush="{DynamicResource ControlBorderBrush}">
                        <Grid Margin="8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Buses"
                                       Foreground="{DynamicResource TextPrimaryBrush}"/>
                            <TextBlock Grid.Row="0" Grid.Column="1" 
                                       Text="{Binding OldBusCount}"
                                       Foreground="{DynamicResource TextSecondaryBrush}"/>
                            
                            <TextBlock Grid.Row="1" Grid.Column="0" Text="Breakers"
                                       Foreground="{DynamicResource TextPrimaryBrush}"/>
                            <TextBlock Grid.Row="1" Grid.Column="1" 
                                       Text="{Binding OldBreakerCount}"
                                       Foreground="{DynamicResource TextSecondaryBrush}"/>
                            
                            <TextBlock Grid.Row="2" Grid.Column="0" Text="Fuses"
                                       Foreground="{DynamicResource TextPrimaryBrush}"/>
                            <TextBlock Grid.Row="2" Grid.Column="1" 
                                       Text="{Binding OldFuseCount}"
                                       Foreground="{DynamicResource TextSecondaryBrush}"/>
                            
                            <TextBlock Grid.Row="3" Grid.Column="0" Text="Short Circuit"
                                       Foreground="{DynamicResource TextPrimaryBrush}"/>
                            <TextBlock Grid.Row="3" Grid.Column="1" 
                                       Text="{Binding OldShortCircuitCount}"
                                       Foreground="{DynamicResource TextSecondaryBrush}"/>
                            
                            <TextBlock Grid.Row="4" Grid.Column="0" Text="Arc Flash"
                                       Foreground="{DynamicResource TextPrimaryBrush}"/>
                            <TextBlock Grid.Row="4" Grid.Column="1" 
                                       Text="{Binding OldArcFlashCount}"
                                       Foreground="{DynamicResource TextSecondaryBrush}"/>
                        </Grid>
                    </GroupBox>
                    
                </StackPanel>
            </GroupBox>
            
        </Grid>
    </ScrollViewer>
</UserControl>
