<UserControl x:Class="EasyAF.Modules.Project.Views.ProjectSummaryView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:conv="clr-namespace:EasyAF.Modules.Project.Converters"
             HorizontalAlignment="Stretch"
             VerticalAlignment="Stretch">
    <UserControl.Resources>
        <!-- Force GroupBox content to stretch -->
        <Style TargetType="GroupBox" BasedOn="{StaticResource {x:Type GroupBox}}">
            <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
        </Style>
        <conv:MultiplyConverter x:Key="MultiplyConverter"/>
    </UserControl.Resources>
    
    <ScrollViewer VerticalScrollBarVisibility="Auto"
                  HorizontalScrollBarVisibility="Disabled"
                  Background="{DynamicResource PrimaryBackgroundBrush}"
                  HorizontalAlignment="Stretch"
                  VerticalAlignment="Stretch"
                  Padding="0,0,0,0">
        <!-- Bind inner Grid width to viewport so ScrollViewer's infinite measure doesn't collapse stretch -->
        <!-- Constrain to reasonable max width for readability -->
        <Grid Margin="20,20,0,20"
              Width="{Binding ViewportWidth, RelativeSource={RelativeSource AncestorType=ScrollViewer}}"
              MaxWidth="1200"
              x:Name="MainProjectGrid">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/> <!-- Map Information -->
                <RowDefinition Height="Auto"/> <!-- Data Files -->
            </Grid.RowDefinitions>
            
            <!-- Project GroupBox -->
            <GroupBox Grid.Row="0"
                      Header="Project" 
                      Margin="0,0,22,16"
                      HorizontalAlignment="Stretch"
                      BorderBrush="{DynamicResource ControlBorderBrush}"
                      Foreground="{DynamicResource TextPrimaryBrush}">
                <Grid x:Name="ProjectFieldsGrid" Margin="8" Grid.IsSharedSizeScope="True">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" SharedSizeGroup="Label1"/>    <!-- Label 1 - auto-size to content -->
                        <ColumnDefinition Width="1.5*"/>    <!-- Values column 1 (proportional) -->
                        <ColumnDefinition Width="Auto" SharedSizeGroup="Label2"/>    <!-- Label 2 - auto-size to content -->
                        <ColumnDefinition Width="2*"/>      <!-- Values column 2 (more space) -->
                        <ColumnDefinition Width="Auto"/>    <!-- State label - auto-size -->
                        <ColumnDefinition Width="0.5*"/>    <!-- State field - minimal stretch -->
                        <ColumnDefinition Width="Auto"/>    <!-- Zip label - auto-size -->
                        <ColumnDefinition Width="0.5*"/>    <!-- Zip field - minimal stretch -->
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="32"/>
                        <RowDefinition Height="32"/>
                        <RowDefinition Height="32"/>
                        <RowDefinition Height="32"/>
                        <RowDefinition Height="32"/>
                        <RowDefinition Height="32"/>
                        <RowDefinition Height="32"/>
                        <RowDefinition Height="8"/>   <!-- Spacer row before Comments (reduced from 16) -->
                        <RowDefinition Height="80"/>  <!-- Comments row -->
                        <RowDefinition Height="8"/>   <!-- Spacer row before Project Type (reduced from 16) -->
                        <RowDefinition Height="32"/>  <!-- Project Type row -->
                    </Grid.RowDefinitions>
                    
                    <!-- Row 0: LB Project Number | Site Name -->
                    <TextBlock Grid.Row="0" Grid.Column="0" Text="LB Project Number:" VerticalAlignment="Center" Margin="0,0,8,0" Foreground="{DynamicResource TextPrimaryBrush}"/>
                    <TextBox Grid.Row="0" Grid.Column="1" Text="{Binding LBProjectNumber, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" Margin="0,0,20,0" HorizontalAlignment="Stretch"/>
                    
                    <TextBlock Grid.Row="0" Grid.Column="2" Text="Site Name:" VerticalAlignment="Center" Margin="0,0,8,0" Foreground="{DynamicResource TextPrimaryBrush}"/>
                    <TextBox Grid.Row="0" Grid.Column="3" Grid.ColumnSpan="5" Text="{Binding SiteName, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" HorizontalAlignment="Stretch"/>
                    
                    <!-- Row 1: Client | Study Engineer -->
                    <TextBlock Grid.Row="1" Grid.Column="0" Text="Client:" VerticalAlignment="Center" Margin="0,0,8,0" Foreground="{DynamicResource TextPrimaryBrush}"/>
                    <TextBox Grid.Row="1" Grid.Column="1" Text="{Binding Client, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" Margin="0,0,20,0" HorizontalAlignment="Stretch"/>
                    
                    <TextBlock Grid.Row="1" Grid.Column="2" Text="Study Engineer:" VerticalAlignment="Center" Margin="0,0,8,0" Foreground="{DynamicResource TextPrimaryBrush}"/>
                    <TextBox Grid.Row="1" Grid.Column="3" Grid.ColumnSpan="5" Text="{Binding StudyEngineer, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" HorizontalAlignment="Stretch"/>
                    
                    <!-- Row 2: Address Line 1 -->
                    <TextBlock Grid.Row="2" Grid.Column="0" Text="Address Line 1:" VerticalAlignment="Center" Margin="0,0,8,0" Foreground="{DynamicResource TextPrimaryBrush}"/>
                    <TextBox Grid.Row="2" Grid.Column="1" Grid.ColumnSpan="7" Text="{Binding AddressLine1, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" HorizontalAlignment="Stretch"/>
                    
                    <!-- Row 3: Address Line 2 -->
                    <TextBlock Grid.Row="3" Grid.Column="0" Text="Address Line 2:" VerticalAlignment="Center" Margin="0,0,8,0" Foreground="{DynamicResource TextPrimaryBrush}"/>
                    <TextBox Grid.Row="3" Grid.Column="1" Grid.ColumnSpan="7" Text="{Binding AddressLine2, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" HorizontalAlignment="Stretch"/>
                    
                    <!-- Row 4: Address Line 3 -->
                    <TextBlock Grid.Row="4" Grid.Column="0" Text="Address Line 3:" VerticalAlignment="Center" Margin="0,0,8,0" Foreground="{DynamicResource TextPrimaryBrush}"/>
                    <TextBox Grid.Row="4" Grid.Column="1" Grid.ColumnSpan="7" Text="{Binding AddressLine3, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" HorizontalAlignment="Stretch"/>
                    
                    <!-- Row 5: City | State | Zip - Nested grid with 90% growth rate -->
                    <Grid Grid.Row="5" Grid.Column="0" Grid.ColumnSpan="8" HorizontalAlignment="Left"
                          Width="{Binding ActualWidth, ElementName=ProjectFieldsGrid, Converter={StaticResource MultiplyConverter}, ConverterParameter=0.9}"
                          MaxWidth="1080">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="Label1"/>    <!-- Label: City - matches main grid -->
                            <ColumnDefinition Width="1.5*"/>    <!-- Field: City -->
                            <ColumnDefinition Width="Auto"/>    <!-- Label: State -->
                            <ColumnDefinition Width="0.5*"/>    <!-- Field: State -->
                            <ColumnDefinition Width="Auto"/>    <!-- Label: Zip -->
                            <ColumnDefinition Width="0.5*"/>    <!-- Field: Zip -->
                        </Grid.ColumnDefinitions>
                        
                        <TextBlock Grid.Column="0" Text="City:" VerticalAlignment="Center" Margin="0,0,8,0" Foreground="{DynamicResource TextPrimaryBrush}"/>
                        <TextBox Grid.Column="1" Text="{Binding City, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" Margin="0,0,20,0" HorizontalAlignment="Stretch"/>
                        
                        <TextBlock Grid.Column="2" Text="State:" VerticalAlignment="Center" Margin="0,0,8,0" Foreground="{DynamicResource TextPrimaryBrush}"/>
                        <ComboBox Grid.Column="3" SelectedItem="{Binding State, UpdateSourceTrigger=PropertyChanged}" 
                                  VerticalAlignment="Center" Margin="0,0,20,0" HorizontalAlignment="Stretch" IsEditable="True">
                            <ComboBox.Items>
                                <ComboBoxItem Content="AL"/>
                                <ComboBoxItem Content="AK"/>
                                <ComboBoxItem Content="AZ"/>
                                <ComboBoxItem Content="AR"/>
                                <ComboBoxItem Content="CA"/>
                                <ComboBoxItem Content="CO"/>
                                <ComboBoxItem Content="CT"/>
                                <ComboBoxItem Content="DE"/>
                                <ComboBoxItem Content="FL"/>
                                <ComboBoxItem Content="GA"/>
                                <ComboBoxItem Content="HI"/>
                                <ComboBoxItem Content="ID"/>
                                <ComboBoxItem Content="IL"/>
                                <ComboBoxItem Content="IN"/>
                                <ComboBoxItem Content="IA"/>
                                <ComboBoxItem Content="KS"/>
                                <ComboBoxItem Content="KY"/>
                                <ComboBoxItem Content="LA"/>
                                <ComboBoxItem Content="ME"/>
                                <ComboBoxItem Content="MD"/>
                                <ComboBoxItem Content="MA"/>
                                <ComboBoxItem Content="MI"/>
                                <ComboBoxItem Content="MN"/>
                                <ComboBoxItem Content="MS"/>
                                <ComboBoxItem Content="MO"/>
                                <ComboBoxItem Content="MT"/>
                                <ComboBoxItem Content="NE"/>
                                <ComboBoxItem Content="NV"/>
                                <ComboBoxItem Content="NH"/>
                                <ComboBoxItem Content="NJ"/>
                                <ComboBoxItem Content="NM"/>
                                <ComboBoxItem Content="NY"/>
                                <ComboBoxItem Content="NC"/>
                                <ComboBoxItem Content="ND"/>
                                <ComboBoxItem Content="OH"/>
                                <ComboBoxItem Content="OK"/>
                                <ComboBoxItem Content="OR"/>
                                <ComboBoxItem Content="PA"/>
                                <ComboBoxItem Content="RI"/>
                                <ComboBoxItem Content="SC"/>
                                <ComboBoxItem Content="SD"/>
                                <ComboBoxItem Content="TN"/>
                                <ComboBoxItem Content="TX"/>
                                <ComboBoxItem Content="UT"/>
                                <ComboBoxItem Content="VT"/>
                                <ComboBoxItem Content="VA"/>
                                <ComboBoxItem Content="WA"/>
                                <ComboBoxItem Content="WV"/>
                                <ComboBoxItem Content="WI"/>
                                <ComboBoxItem Content="WY"/>
                            </ComboBox.Items>
                        </ComboBox>
                        
                        <TextBlock Grid.Column="4" Text="Zip:" VerticalAlignment="Center" Margin="0,0,8,0" Foreground="{DynamicResource TextPrimaryBrush}"/>
                        <TextBox Grid.Column="5" Text="{Binding Zip, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" MaxLength="5" HorizontalAlignment="Stretch"/>
                    </Grid>
                    
                    <!-- Row 6: Study Date | Revision Month - Nested grid with 90% growth rate -->
                    <Grid Grid.Row="6" Grid.Column="0" Grid.ColumnSpan="8" HorizontalAlignment="Left"
                          Width="{Binding ActualWidth, ElementName=ProjectFieldsGrid, Converter={StaticResource MultiplyConverter}, ConverterParameter=0.9}"
                          MaxWidth="1080">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" SharedSizeGroup="Label1"/>    <!-- Label: Study Date - matches main grid -->
                            <ColumnDefinition Width="1*"/>      <!-- Field: Study Date -->
                            <ColumnDefinition Width="Auto"/>    <!-- Label: Revision -->
                            <ColumnDefinition Width="1.5*"/>    <!-- Field: Revision -->
                        </Grid.ColumnDefinitions>
                        
                        <TextBlock Grid.Column="0" Text="Study Date:" VerticalAlignment="Center" Margin="0,0,8,0" Foreground="{DynamicResource TextPrimaryBrush}"/>
                        <DatePicker Grid.Column="1" SelectedDate="{Binding StudyDateValue, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" Margin="0,0,20,0" HorizontalAlignment="Stretch"/>
                        
                        <TextBlock Grid.Column="2" Text="Revision Month:" VerticalAlignment="Center" Margin="0,0,8,0" Foreground="{DynamicResource TextPrimaryBrush}"/>
                        <TextBox Grid.Column="3" Text="{Binding Revision, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" HorizontalAlignment="Stretch"/>
                    </Grid>
                    
                    <!-- Row 7: Spacer (empty) -->
                    
                    <!-- Row 8: Comments -->
                    <TextBlock Grid.Row="8" Grid.Column="0" Text="Comments:" VerticalAlignment="Top" Margin="0,4,8,0" Foreground="{DynamicResource TextPrimaryBrush}"/>
                    <TextBox Grid.Row="8" Grid.Column="1" Grid.ColumnSpan="7" 
                             Text="{Binding Comments, UpdateSourceTrigger=PropertyChanged}" 
                             TextWrapping="Wrap" 
                             AcceptsReturn="True" 
                             VerticalScrollBarVisibility="Auto"
                             HorizontalAlignment="Stretch"
                             VerticalAlignment="Stretch"/>
                    
                    <!-- Row 9: Spacer (empty) -->
                    
                    <!-- Row 10: Project Type -->
                    <TextBlock Grid.Row="10" Grid.Column="0" Text="Project Type:" VerticalAlignment="Center" Margin="0,0,8,0" Foreground="{DynamicResource TextPrimaryBrush}"/>
                    <StackPanel Grid.Row="10" Grid.Column="1" Grid.ColumnSpan="7" Orientation="Horizontal">
                        <RadioButton Content="Standard EasyPower Model" 
                                     IsChecked="{Binding IsStandardProjectType}" 
                                     GroupName="ProjectType" 
                                     Margin="0,0,20,0"
                                     VerticalAlignment="Center"/>
                        <RadioButton Content="Composite Model" 
                                     IsChecked="{Binding IsCompositeProjectType}" 
                                     GroupName="ProjectType"
                                     VerticalAlignment="Center"/>
                    </StackPanel>
                </Grid>
            </GroupBox>
            
            <!-- Map Information Section -->
            <GroupBox Grid.Row="3" 
                      Header="Map Information" 
                      Margin="0,0,0,20"
                      Foreground="{DynamicResource TextPrimaryBrush}"
                      BorderBrush="{DynamicResource ControlBorderBrush}">
                <Grid Margin="8">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="140"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="32"/>
                        <RowDefinition Height="32"/>
                        <RowDefinition Height="32"/>
                        <RowDefinition Height="32"/>
                    </Grid.RowDefinitions>
                    
                    <!-- Map Path -->
                    <TextBlock Grid.Row="0" Grid.Column="0" Text="Map:" VerticalAlignment="Center" Foreground="{DynamicResource TextPrimaryBrush}"/>
                    <TextBox Grid.Row="0" Grid.Column="1" Text="{Binding MapPath, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" Margin="0,0,8,0" HorizontalAlignment="Stretch"/>
                    <Button Grid.Row="0" Grid.Column="2" Content="Browse..." Command="{Binding BrowseMapCommand}" Padding="8,4" Style="{StaticResource BaseButtonStyle}"/>
                    
                    <!-- Spec Path -->
                    <TextBlock Grid.Row="1" Grid.Column="0" Text="Spec:" VerticalAlignment="Center" Foreground="{DynamicResource TextPrimaryBrush}"/>
                    <TextBox Grid.Row="1" Grid.Column="1" Text="{Binding SpecPath, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" Margin="0,0,8,0" HorizontalAlignment="Stretch"/>
                    <Button Grid.Row="1" Grid.Column="2" Content="Browse..." Command="{Binding BrowseSpecCommand}" Padding="8,4" Style="{StaticResource BaseButtonStyle}"/>
                    
                    <!-- Template Path -->
                    <TextBlock Grid.Row="2" Grid.Column="0" Text="Template:" VerticalAlignment="Center" Foreground="{DynamicResource TextPrimaryBrush}"/>
                    <TextBox Grid.Row="2" Grid.Column="1" Text="{Binding TemplatePath, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" Margin="0,0,8,0" HorizontalAlignment="Stretch"/>
                    <Button Grid.Row="2" Grid.Column="2" Content="Browse..." Command="{Binding BrowseTemplateCommand}" Padding="8,4" Style="{StaticResource BaseButtonStyle}"/>
                    
                    <!-- Output Folder -->
                    <TextBlock Grid.Row="3" Grid.Column="0" Text="Output Folder:" VerticalAlignment="Center" Foreground="{DynamicResource TextPrimaryBrush}"/>
                    <TextBox Grid.Row="3" Grid.Column="1" Text="{Binding OutputPath, UpdateSourceTrigger=PropertyChanged}" VerticalAlignment="Center" Margin="0,0,8,0" HorizontalAlignment="Stretch"/>
                    <Button Grid.Row="3" Grid.Column="2" Content="Browse..." Command="{Binding BrowseOutputCommand}" Padding="8,4" Style="{StaticResource BaseButtonStyle}"/>
                </Grid>
            </GroupBox>
            
            <!-- Data Files Section (NEW!) -->
            <GroupBox Grid.Row="1"
                      Header="Data Files"
                      Margin="0,0,0,20"
                      Foreground="{DynamicResource TextPrimaryBrush}"
                      BorderBrush="{DynamicResource ControlBorderBrush}">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="16"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    
                    <!-- New Data Files Section -->
                    <StackPanel Grid.Column="0">
                        <!-- Header -->
                        <TextBlock Text="New Data" 
                                   FontWeight="SemiBold"
                                   FontSize="14"
                                   Margin="0,0,0,8"
                                   Foreground="{DynamicResource TextPrimaryBrush}"/>
                        
                        <!-- Toolbar -->
                        <ToolBar Background="{DynamicResource SecondaryBackgroundBrush}"
                                 BorderBrush="{DynamicResource ControlBorderBrush}"
                                 BorderThickness="0,0,0,1"
                                 Padding="8,4"
                                 Margin="0,0,0,8">
                            <Button Content="Add File" 
                                    Style="{StaticResource BaseButtonStyle}"
                                    Padding="8,4"
                                    Margin="0,0,4,0"/>
                            <Button Content="Remove" 
                                    Style="{StaticResource BaseButtonStyle}"
                                    Padding="8,4"
                                    Margin="0,0,4,0"/>
                            <Separator Width="1" 
                                       Background="{DynamicResource ControlBorderBrush}"
                                       Margin="4,0"/>
                            <Button Content="Browse..." 
                                    Style="{StaticResource BaseButtonStyle}"
                                    Padding="8,4"/>
                        </ToolBar>
                        
                        <!-- File List -->
                        <ListBox Height="120"
                                 Background="{DynamicResource ControlBackgroundBrush}"
                                 BorderBrush="{DynamicResource ControlBorderBrush}"
                                 BorderThickness="1">
                            <!-- TODO: Bind to NewDataFiles collection -->
                        </ListBox>
                    </StackPanel>
                    
                    <!-- Old Data Files Section -->
                    <StackPanel Grid.Column="2">
                        <!-- Header -->
                        <TextBlock Text="Old Data" 
                                   FontWeight="SemiBold"
                                   FontSize="14"
                                   Margin="0,0,0,8"
                                   Foreground="{DynamicResource TextPrimaryBrush}"/>
                        
                        <!-- Toolbar -->
                        <ToolBar Background="{DynamicResource SecondaryBackgroundBrush}"
                                 BorderBrush="{DynamicResource ControlBorderBrush}"
                                 BorderThickness="0,0,0,1"
                                 Padding="8,4"
                                 Margin="0,0,0,8">
                            <Button Content="Add File" 
                                    Style="{StaticResource BaseButtonStyle}"
                                    Padding="8,4"
                                    Margin="0,0,4,0"/>
                            <Button Content="Remove" 
                                    Style="{StaticResource BaseButtonStyle}"
                                    Padding="8,4"
                                    Margin="0,0,4,0"/>
                            <Separator Width="1" 
                                       Background="{DynamicResource ControlBorderBrush}"
                                       Margin="4,0"/>
                            <Button Content="Browse..." 
                                    Style="{StaticResource BaseButtonStyle}"
                                    Padding="8,4"/>
                        </ToolBar>
                        
                        <!-- File List -->
                        <ListBox Height="120"
                                 Background="{DynamicResource ControlBackgroundBrush}"
                                 BorderBrush="{DynamicResource ControlBorderBrush}"
                                 BorderThickness="1">
                            <!-- TODO: Bind to OldDataFiles collection -->
                        </ListBox>
                    </StackPanel>
                </Grid>
            </GroupBox>
            
            <!-- Project Summary GroupBox -->
            <GroupBox Grid.Row="2"
                      Header="Project Summary" 
                      Margin="0,0,0,16"
                      HorizontalAlignment="Stretch"
                      BorderBrush="{DynamicResource ControlBorderBrush}"
                      Foreground="{DynamicResource TextPrimaryBrush}">
                <Grid Margin="8">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="16"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    
                    <!-- New Data Section -->
                    <GroupBox Grid.Column="0"
                              Header="New Data"
                              Foreground="{DynamicResource TextPrimaryBrush}"
                              BorderBrush="{DynamicResource ControlBorderBrush}">
                        <Grid Margin="8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="24"/>
                                <RowDefinition Height="24"/>
                                <RowDefinition Height="24"/>
                                <RowDefinition Height="24"/>
                                <RowDefinition Height="24"/>
                            </Grid.RowDefinitions>
                            
                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Buses" Foreground="{DynamicResource TextPrimaryBrush}"/>
                            <TextBlock Grid.Row="0" Grid.Column="1" Text="{Binding NewBusCount}" Margin="8,0,0,0" Foreground="{DynamicResource TextSecondaryBrush}"/>
                            
                            <TextBlock Grid.Row="1" Grid.Column="0" Text="Breakers" Foreground="{DynamicResource TextPrimaryBrush}"/>
                            <TextBlock Grid.Row="1" Grid.Column="1" Text="{Binding NewBreakerCount}" Margin="8,0,0,0" Foreground="{DynamicResource TextSecondaryBrush}"/>
                            
                            <TextBlock Grid.Row="2" Grid.Column="0" Text="Fuses" Foreground="{DynamicResource TextPrimaryBrush}"/>
                            <TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding NewFuseCount}" Margin="8,0,0,0" Foreground="{DynamicResource TextSecondaryBrush}"/>
                            
                            <TextBlock Grid.Row="3" Grid.Column="0" Text="Short Circuit" Foreground="{DynamicResource TextPrimaryBrush}"/>
                            <TextBlock Grid.Row="3" Grid.Column="1" Text="{Binding NewShortCircuitCount}" Margin="8,0,0,0" Foreground="{DynamicResource TextSecondaryBrush}"/>
                            
                            <TextBlock Grid.Row="4" Grid.Column="0" Text="Arc Flash" Foreground="{DynamicResource TextPrimaryBrush}"/>
                            <TextBlock Grid.Row="4" Grid.Column="1" Text="{Binding NewArcFlashCount}" Margin="8,0,0,0" Foreground="{DynamicResource TextSecondaryBrush}"/>
                        </Grid>
                    </GroupBox>
                    
                    <!-- Old Data Section -->
                    <GroupBox Grid.Column="2"
                              Header="Old Data"
                              Foreground="{DynamicResource TextPrimaryBrush}"
                              BorderBrush="{DynamicResource ControlBorderBrush}">
                        <Grid Margin="8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="24"/>
                                <RowDefinition Height="24"/>
                                <RowDefinition Height="24"/>
                                <RowDefinition Height="24"/>
                                <RowDefinition Height="24"/>
                            </Grid.RowDefinitions>
                            
                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Buses" Foreground="{DynamicResource TextPrimaryBrush}"/>
                            <TextBlock Grid.Row="0" Grid.Column="1" Text="{Binding OldBusCount}" Margin="8,0,0,0" Foreground="{DynamicResource TextSecondaryBrush}"/>
                            
                            <TextBlock Grid.Row="1" Grid.Column="0" Text="Breakers" Foreground="{DynamicResource TextPrimaryBrush}"/>
                            <TextBlock Grid.Row="1" Grid.Column="1" Text="{Binding OldBreakerCount}" Margin="8,0,0,0" Foreground="{DynamicResource TextSecondaryBrush}"/>
                            
                            <TextBlock Grid.Row="2" Grid.Column="0" Text="Fuses" Foreground="{DynamicResource TextPrimaryBrush}"/>
                            <TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding OldFuseCount}" Margin="8,0,0,0" Foreground="{DynamicResource TextSecondaryBrush}"/>
                            
                            <TextBlock Grid.Row="3" Grid.Column="0" Text="Short Circuit" Foreground="{DynamicResource TextPrimaryBrush}"/>
                            <TextBlock Grid.Row="3" Grid.Column="1" Text="{Binding OldShortCircuitCount}" Margin="8,0,0,0" Foreground="{DynamicResource TextSecondaryBrush}"/>
                            
                            <TextBlock Grid.Row="4" Grid.Column="0" Text="Arc Flash" Foreground="{DynamicResource TextPrimaryBrush}"/>
                            <TextBlock Grid.Row="4" Grid.Column="1" Text="{Binding OldArcFlashCount}" Margin="8,0,0,0" Foreground="{DynamicResource TextSecondaryBrush}"/>
                        </Grid>
                    </GroupBox>
                </Grid>
            </GroupBox>
        </Grid>
    </ScrollViewer>
</UserControl>
