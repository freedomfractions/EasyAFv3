<UserControl x:Class="EasyAF.Modules.Project.Views.ProjectModuleSettingsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:EasyAF.Modules.Project.ViewModels">
    
    <UserControl.Resources>
        <!-- Style for section headers -->
        <Style x:Key="SectionHeaderStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}"/>
            <Setter Property="Margin" Value="0,16,0,8"/>
        </Style>
        
        <!-- Style for setting labels -->
        <Style x:Key="SettingLabelStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Foreground" Value="{DynamicResource TextPrimaryBrush}"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Margin" Value="0,0,12,0"/>
        </Style>
        
        <!-- Style for help text -->
        <Style x:Key="HelpTextStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Foreground" Value="{DynamicResource TextSecondaryBrush}"/>
            <Setter Property="TextWrapping" Value="Wrap"/>
            <Setter Property="Margin" Value="0,4,0,0"/>
        </Style>
    </UserControl.Resources>
    
    <ScrollViewer VerticalScrollBarVisibility="Auto"
                  Background="{DynamicResource PrimaryBackgroundBrush}">
        <StackPanel Margin="20">
            
            <!-- Header -->
            <TextBlock Text="Project Editor Settings"
                       FontSize="20"
                       FontWeight="Bold"
                       Foreground="{DynamicResource TextPrimaryBrush}"
                       Margin="0,0,0,8"/>
            
            <TextBlock Text="Configure default behaviors for the Project Editor module."
                       Style="{StaticResource HelpTextStyle}"
                       Margin="0,0,0,16"/>
            
            <Separator Background="{DynamicResource ControlBorderBrush}"
                       Margin="0,0,0,8"/>
            
            <!-- Import Settings Section -->
            <TextBlock Text="Import Settings"
                       Style="{StaticResource SectionHeaderStyle}"/>
            
            <!-- Default Import Map -->
            <Grid Margin="0,8,0,0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="150"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <!-- Label -->
                <TextBlock Grid.Row="0" Grid.Column="0"
                           Text="Default Import Map:"
                           Style="{StaticResource SettingLabelStyle}"/>
                
                <!-- Dropdown -->
                <ComboBox Grid.Row="0" Grid.Column="1"
                          ItemsSource="{Binding AvailableMapFiles}"
                          SelectedValue="{Binding SelectedDefaultMapPath}"
                          SelectedValuePath="FilePath"
                          DisplayMemberPath="DisplayName"
                          Height="32"
                          VerticalContentAlignment="Center"
                          Margin="0,0,8,0"/>
                
                <!-- Browse Button -->
                <Button Grid.Row="0" Grid.Column="2"
                        Command="{Binding BrowseMapCommand}"
                        Content="Browse..."
                        Width="80"
                        Height="32"
                        Margin="0,0,8,0"/>
                
                <!-- Clear Button -->
                <Button Grid.Row="0" Grid.Column="3"
                        Command="{Binding ClearDefaultMapCommand}"
                        Content="Clear"
                        Width="80"
                        Height="32"/>
                
                <!-- Help Text -->
                <TextBlock Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="3"
                           Style="{StaticResource HelpTextStyle}">
                    <Run Text="This map will be pre-selected when creating a new project."/>
                    <LineBreak/>
                    <Run Text="If not set, the most recently modified map from the Maps folder will be used."/>
                </TextBlock>
            </Grid>
            
            <!-- CROSS-MODULE EDIT: 2025-01-27 Module Directory Settings Refactoring -->
            <!-- Modified for: Add directory configurations to Project module settings -->
            <!-- Related modules: Core (CrossModuleSettingsExtensions - future), Shell (removed File Paths tab) -->
            <!-- Rollback instructions: Remove Directories section, restore "Additional Settings" placeholder -->
            
            <!-- Directories Section -->
            <TextBlock Text="Directories"
                       Style="{StaticResource SectionHeaderStyle}"/>
            
            <!-- Templates Directory -->
            <TextBlock Text="Templates Directory"
                       FontWeight="SemiBold"
                       Foreground="{DynamicResource TextPrimaryBrush}"
                       Margin="0,8,0,4"/>
            <TextBlock Text="Default location for Word document templates"
                       Foreground="{DynamicResource TextSecondaryBrush}"
                       FontSize="11"
                       Margin="0,0,0,8"/>
            <Grid Margin="0,0,0,20">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBox Grid.Column="0"
                         Text="{Binding TemplatesDirectory, UpdateSourceTrigger=PropertyChanged}"
                         VerticalContentAlignment="Center"
                         Height="28"
                         Margin="0,0,8,0"
                         Background="{DynamicResource ControlBackgroundBrush}"
                         Foreground="{DynamicResource TextPrimaryBrush}"
                         BorderBrush="{DynamicResource ControlBorderBrush}"/>
                <Button Grid.Column="1"
                        Content="Browse..."
                        Width="80"
                        Height="28"
                        Command="{Binding BrowseTemplatesDirectoryCommand}"
                        Style="{StaticResource BaseButtonStyle}"/>
            </Grid>
            
            <!-- Output Directory -->
            <TextBlock Text="Output Directory"
                       FontWeight="SemiBold"
                       Foreground="{DynamicResource TextPrimaryBrush}"
                       Margin="0,0,0,4"/>
            <TextBlock Text="Default location for generated reports and output files"
                       Foreground="{DynamicResource TextSecondaryBrush}"
                       FontSize="11"
                       Margin="0,0,0,8"/>
            <Grid Margin="0,0,0,20">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBox Grid.Column="0"
                         Text="{Binding OutputDirectory, UpdateSourceTrigger=PropertyChanged}"
                         VerticalContentAlignment="Center"
                         Height="28"
                         Margin="0,0,8,0"
                         Background="{DynamicResource ControlBackgroundBrush}"
                         Foreground="{DynamicResource TextPrimaryBrush}"
                         BorderBrush="{DynamicResource ControlBorderBrush}"/>
                <Button Grid.Column="1"
                        Content="Browse..."
                        Width="80"
                        Height="28"
                        Command="{Binding BrowseOutputDirectoryCommand}"
                        Style="{StaticResource BaseButtonStyle}"/>
            </Grid>
            
        </StackPanel>
    </ScrollViewer>
</UserControl>
